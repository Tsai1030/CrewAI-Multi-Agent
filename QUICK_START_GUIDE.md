# 🚀 紫微斗數AI系統 - 快速啟動指南

## 🎯 5分鐘快速體驗 Agent 討論功能

### 📋 前置準備

1. **確認環境**
   ```bash
   # 確認 Python 環境
   python --version  # 需要 Python 3.8+
   
   # 確認在正確目錄
   ls  # 應該看到 main.py, src/ 等文件
   ```

2. **設置 API 密鑰** (可選，但建議設置)
   ```bash
   # 創建 .env 文件
   echo "OPENAI_API_KEY=your_openai_key_here" > .env
   echo "ANTHROPIC_API_KEY=your_anthropic_key_here" >> .env
   ```

---

## 🎮 體驗方式

### **方式1: 架構演示 (無需 API 密鑰)**
```bash
# 運行架構測試 - 驗證所有功能正常
python test_discussion_simple.py

# 運行完整演示 - 看到討論過程模擬
python demo_agent_discussion.py
```

**預期結果**: 
- ✅ 所有測試通過
- 🎭 看到 Agent 之間的模擬討論
- 📊 共識評估機制展示

### **方式2: 完整系統 (需要 API 密鑰)**
```bash
# 運行主程式
python main.py
```

**預期結果**:
- 🤖 真實的 Agent 討論
- 🔮 完整的命盤分析
- 💬 多輪討論過程

### **方式3: Claude MCP 工具 (需要 Anthropic API)**
在 Claude Desktop 中輸入：
```
請使用紫微斗數工具分析1990年8月15日午時出生的女性感情運勢
```

---

## 🌟 **看到的效果**

### **討論模式展示**
```
🗣️ 開始 Agent 討論模式分析...

💬 第1輪討論：初始分析
🤖 claude_agent: 從邏輯分析角度，紫微星坐命表示...
🤖 gpt_agent: 用生動比喻來說，這就像天生的CEO...
🤖 love_expert: 從感情專業角度，夫妻宮太陽巨門...

💬 第2輪討論：交叉討論
🤖 claude_agent: 我同意創意專家的觀點，但需要補充...
🤖 gpt_agent: 邏輯專家說得對！太陽巨門其實也有正面...
🤖 love_expert: 兩位專家分析精闢，我要強調的是...

🎯 最終共識: 經過討論，各專家達成共識...
💡 關鍵洞察: 1. 領導特質明顯 2. 溝通需要技巧...
⚖️ 分歧點: 對太陽巨門組合影響程度有不同看法
```

### **共識評估展示**
```
📊 共識評估機制演示

高共識回應: 0.973 ✅ Agent們觀點一致
中等共識回應: 0.400 ⚠️ 部分共同觀點  
低共識回應: 0.364 ❌ 觀點分歧較大
```

---

## 🎯 **核心功能驗證清單**

運行測試後，確認以下功能：

### ✅ **基礎架構**
- [ ] 討論相關類別導入成功
- [ ] 協調策略包含 discussion 和 debate
- [ ] Agent 實例創建成功
- [ ] 所有 Agent 都支援討論和辯論任務

### ✅ **討論機制**
- [ ] 協調器包含所有討論方法
- [ ] 討論上下文構建正確
- [ ] 共識評估邏輯正確
- [ ] 多輪討論流程完整

### ✅ **Agent 協作**
- [ ] Claude Agent: 邏輯推理風格
- [ ] GPT Agent: 創意表達風格  
- [ ] Domain Agent: 專業權威風格
- [ ] 各 Agent 能互相回應和補充

---

## 🔧 **常見問題解決**

### **Q: 看到 "Settings validation failed" 警告**
**A**: 正常現象，不影響架構演示功能。如需完整功能請設置 API 密鑰。

### **Q: 看到 "BGE-M3 初始化失敗"**
**A**: 正常現象，系統會自動回退到 OpenAI 嵌入。

### **Q: Agent 回應數為 0**
**A**: 在演示模式下正常，實際使用需要 API 密鑰。

### **Q: 想看真實的 Agent 討論**
**A**: 設置 OpenAI API 密鑰後運行 `python main.py`。

---

## 🎊 **成功指標**

如果看到以下輸出，說明系統完全正常：

```
🎉 所有架構測試通過！Agent 討論功能已正確實現。

💡 新功能特色:
  ✅ 支援討論式和辯論式協作
  ✅ 多輪討論機制
  ✅ 自動共識評估
  ✅ 上下文構建和管理
  ✅ 洞察提取和分歧識別
```

---

## 🚀 **下一步探索**

### **1. 深入了解**
- 查看 `PROJECT_STATUS_FINAL.md` 了解完整功能
- 研究 `src/agents/coordinator.py` 了解討論機制
- 探索不同的協調策略效果

### **2. 實際使用**
- 設置 API 密鑰體驗真實討論
- 嘗試不同的出生數據和分析領域
- 觀察 Agent 之間的互動模式

### **3. 自定義開發**
- 調整討論提示詞
- 添加新的專業 Agent
- 優化共識評估算法

---

**🎉 恭喜！您已經成功體驗了革命性的 Agent 協作討論系統！**

這是一個真正讓 AI Agent 之間進行"討論"的創新系統，為命理分析帶來了前所未有的深度和準確性。
